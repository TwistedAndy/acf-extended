(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}acf.newCondition=function(rule,conditions){var target=conditions.get("field");var field=target.getField(rule.field);if(target&&!field){var findField=acf.findField(rule.field);if(findField.length){field=acf.getField(rule.field)}}if(!target||!field){return false}var args={rule:rule,target:target,conditions:conditions,field:field};var fieldType=field.get("type");var operator=rule.operator;var conditionTypes=acf.getConditionTypes({fieldType:fieldType,operator:operator});var model=conditionTypes[0]||acf.Condition;var condition=new model(args);return condition}})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}acf.registerConditionForFieldType("contains","checkbox");acf.registerConditionForFieldType("contains","radio");acf.registerConditionForFieldType("equalTo","acfe_code_editor");acf.registerConditionForFieldType("notEqualTo","acfe_code_editor");acf.registerConditionForFieldType("patternMatch","acfe_code_editor");acf.registerConditionForFieldType("contains","acfe_code_editor");acf.registerConditionForFieldType("hasValue","acfe_code_editor");acf.registerConditionForFieldType("hasNoValue","acfe_code_editor");acf.registerConditionForFieldType("equalTo","date_picker");acf.registerConditionForFieldType("notEqualTo","date_picker");acf.registerConditionForFieldType("patternMatch","date_picker");acf.registerConditionForFieldType("contains","date_picker");acf.registerConditionForFieldType("greaterThan","date_picker");acf.registerConditionForFieldType("lessThan","date_picker");acf.registerConditionForFieldType("equalTo","date_time_picker");acf.registerConditionForFieldType("notEqualTo","date_time_picker");acf.registerConditionForFieldType("patternMatch","date_time_picker");acf.registerConditionForFieldType("contains","date_time_picker");acf.registerConditionForFieldType("equalTo","acfe_forms");acf.registerConditionForFieldType("notEqualTo","acfe_forms");acf.registerConditionForFieldType("patternMatch","acfe_forms");acf.registerConditionForFieldType("contains","acfe_forms");acf.registerConditionForFieldType("hasValue","acfe_forms");acf.registerConditionForFieldType("hasNoValue","acfe_forms");acf.registerConditionForFieldType("equalTo","acfe_hidden");acf.registerConditionForFieldType("notEqualTo","acfe_hidden");acf.registerConditionForFieldType("patternMatch","acfe_hidden");acf.registerConditionForFieldType("contains","acfe_hidden");acf.registerConditionForFieldType("hasValue","acfe_hidden");acf.registerConditionForFieldType("hasNoValue","acfe_hidden");acf.registerConditionForFieldType("equalTo","acfe_post_statuses");acf.registerConditionForFieldType("notEqualTo","acfe_post_statuses");acf.registerConditionForFieldType("patternMatch","acfe_post_statuses");acf.registerConditionForFieldType("contains","acfe_post_statuses");acf.registerConditionForFieldType("hasValue","acfe_post_statuses");acf.registerConditionForFieldType("hasNoValue","acfe_post_statuses");acf.registerConditionForFieldType("equalTo","acfe_post_types");acf.registerConditionForFieldType("notEqualTo","acfe_post_types");acf.registerConditionForFieldType("patternMatch","acfe_post_types");acf.registerConditionForFieldType("contains","acfe_post_types");acf.registerConditionForFieldType("hasValue","acfe_post_types");acf.registerConditionForFieldType("hasNoValue","acfe_post_types");acf.registerConditionForFieldType("equalTo","acfe_slug");acf.registerConditionForFieldType("notEqualTo","acfe_slug");acf.registerConditionForFieldType("patternMatch","acfe_slug");acf.registerConditionForFieldType("contains","acfe_slug");acf.registerConditionForFieldType("hasValue","acfe_slug");acf.registerConditionForFieldType("hasNoValue","acfe_slug");acf.registerConditionForFieldType("equalTo","acfe_taxonomies");acf.registerConditionForFieldType("notEqualTo","acfe_taxonomies");acf.registerConditionForFieldType("patternMatch","acfe_taxonomies");acf.registerConditionForFieldType("contains","acfe_taxonomies");acf.registerConditionForFieldType("hasValue","acfe_taxonomies");acf.registerConditionForFieldType("hasNoValue","acfe_taxonomies");acf.registerConditionForFieldType("equalTo","taxonomy");acf.registerConditionForFieldType("notEqualTo","taxonomy");acf.registerConditionForFieldType("patternMatch","taxonomy");acf.registerConditionForFieldType("contains","taxonomy");acf.registerConditionForFieldType("hasValue","taxonomy");acf.registerConditionForFieldType("hasNoValue","taxonomy");acf.registerConditionForFieldType("equalTo","acfe_taxonomy_terms");acf.registerConditionForFieldType("notEqualTo","acfe_taxonomy_terms");acf.registerConditionForFieldType("patternMatch","acfe_taxonomy_terms");acf.registerConditionForFieldType("contains","acfe_taxonomy_terms");acf.registerConditionForFieldType("hasValue","acfe_taxonomy_terms");acf.registerConditionForFieldType("hasNoValue","acfe_taxonomy_terms");acf.registerConditionForFieldType("equalTo","time_picker");acf.registerConditionForFieldType("notEqualTo","time_picker");acf.registerConditionForFieldType("patternMatch","time_picker");acf.registerConditionForFieldType("contains","time_picker");acf.registerConditionForFieldType("equalTo","acfe_user_roles");acf.registerConditionForFieldType("notEqualTo","acfe_user_roles");acf.registerConditionForFieldType("patternMatch","acfe_user_roles");acf.registerConditionForFieldType("contains","acfe_user_roles");acf.registerConditionForFieldType("hasValue","acfe_user_roles");acf.registerConditionForFieldType("hasNoValue","acfe_user_roles")})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var storage=[];acfe.registerEventForFieldType=function(fieldType,events,callback){if(typeof events==="string"){events=[events]}storage.push({fieldType:fieldType,events:events,callback:callback||false})};acfe.getEvents=function(args){args=acf.parseArgs(args,{fieldType:""});var items=[];storage.map(function(item){if(args.fieldType&&item.fieldType.indexOf(args.fieldType)===-1){return}items.push(item)});return items};var FieldEvent=new acf.Model({actions:{new_field:"newField"},priority:20,data:{},parseEvent:function(event){return event.match(/^(\S+)\s*(.*)$/)},newField:function(field){this.set(field.cid,field.val());var items=acfe.getEvents({fieldType:field.get("type")});items.map(function(item){item.events.map(function(event){var match=this.parseEvent(event);field.on(match[1],match[2],this.proxy(function(e){var val=field.val();var prevVal=this.get(field.cid);var $el=$(e.currentTarget);var callback=item.callback||this.proxy(function(val,prevVal,field,e,$el){var _val=val;var _prevVal=prevVal;if(typeof _val==="object"){_val=JSON.stringify(_val)}if(typeof _prevVal==="object"){_prevVal=JSON.stringify(_prevVal)}if(_prevVal!==_val){this.set(field.cid,val);acf.doAction("acfe/change_field",val,prevVal,field,e,$el);acf.doAction("acfe/change_field/type="+field.get("type"),val,prevVal,field,e,$el);acf.doAction("acfe/change_field/name="+field.get("name"),val,prevVal,field,e,$el);acf.doAction("acfe/change_field/key="+field.get("key"),val,prevVal,field,e,$el)}});callback(val,prevVal,field,e,$el)}))},this)},this)}});acfe.registerEventForFieldType("button_group","change");acfe.registerEventForFieldType("checkbox","change");acfe.registerEventForFieldType("color_picker","change");acfe.registerEventForFieldType("date_picker","change");acfe.registerEventForFieldType("date_time_picker","change");acfe.registerEventForFieldType("email",["input","change"]);acfe.registerEventForFieldType("file","change");acfe.registerEventForFieldType("flexible_content","change");acfe.registerEventForFieldType("gallery","change");acfe.registerEventForFieldType("google_map","change");acfe.registerEventForFieldType("image","change");acfe.registerEventForFieldType("link","change");acfe.registerEventForFieldType("number",["input","change"]);acfe.registerEventForFieldType("oembed","change");acfe.registerEventForFieldType("page_link","change");acfe.registerEventForFieldType("post_object","change");acfe.registerEventForFieldType("relationship","change");acfe.registerEventForFieldType("password",["input","change"]);acfe.registerEventForFieldType("radio","change");acfe.registerEventForFieldType("range",["input","change"]);acfe.registerEventForFieldType("repeater","change");acfe.registerEventForFieldType("select","change");acfe.registerEventForFieldType("taxonomy","change");acfe.registerEventForFieldType("text",["input","change"]);acfe.registerEventForFieldType("textarea",["input","change"]);acfe.registerEventForFieldType("time_picker","change");acfe.registerEventForFieldType("true_false","change");acfe.registerEventForFieldType("url",["input","change"]);acfe.registerEventForFieldType("user","change");acfe.registerEventForFieldType("wysiwyg","change");acfe.registerEventForFieldType("acfe_advanced_link","change");acfe.registerEventForFieldType("acfe_block_types","change");acfe.registerEventForFieldType("acfe_countries","change");acfe.registerEventForFieldType("acfe_currencies","change");acfe.registerEventForFieldType("acfe_code_editor","change");acfe.registerEventForFieldType("acfe_date_range_picker","change");acfe.registerEventForFieldType("acfe_field_groups","change");acfe.registerEventForFieldType("acfe_field_types","change");acfe.registerEventForFieldType("acfe_fields","change");acfe.registerEventForFieldType("acfe_forms","change");acfe.registerEventForFieldType("acfe_hidden","change");acfe.registerEventForFieldType("acfe_image_selector","change");acfe.registerEventForFieldType("acfe_image_sizes","change");acfe.registerEventForFieldType("acfe_languages","change");acfe.registerEventForFieldType("acfe_menu_locations","change");acfe.registerEventForFieldType("acfe_options_pages","change");acfe.registerEventForFieldType("acfe_payment","change");acfe.registerEventForFieldType("acfe_payment_cart","change");acfe.registerEventForFieldType("acfe_payment_selector","change");acfe.registerEventForFieldType("acfe_phone_number","change");acfe.registerEventForFieldType("acfe_post_formats","change");acfe.registerEventForFieldType("acfe_post_statuses","change");acfe.registerEventForFieldType("acfe_post_types","change");acfe.registerEventForFieldType("acfe_recaptcha","change");acfe.registerEventForFieldType("acfe_taxonomies","change");acfe.registerEventForFieldType("acfe_taxonomy_terms","change");acfe.registerEventForFieldType("acfe_templates","change");acfe.registerEventForFieldType("acfe_user_roles","change");acfe.registerEventForFieldType("acfe_slug",["input","change"])})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var storage=[];acfe.FieldExtender=function(protoProps){var id=acfe.extractVar(protoProps,"id",acf.uniqueId("extender"));protoProps.type=acfe.getArray(protoProps.type);protoProps.dependencies=acfe.getArray(protoProps.dependencies);protoProps.extender=id;storage.push(protoProps);return id};var setup=acf.Field.prototype.setup;acf.Field.prototype.setup=function(props){setup.apply(this,arguments);var extenders=getFieldExtenders(this);if(!extenders.length){return}var prototype=Object.getPrototypeOf(this);this.extenders=[];for(var model of extenders){this.extenders.push(model.extender);var protoProps=$.extend(true,{},model);var events=acfe.extractVar(protoProps,"events");acfe.extractVars(protoProps,"type","condition","dependencies");if(protoProps.hasOwnProperty("setup")){protoProps.setup.apply(this,arguments)}var Child=function(){};Child.prototype=Object.create(prototype);$.extend(Child.prototype,protoProps);if(events){Child.prototype.events=$.extend(true,{},Child.prototype.events,events)}Child.prototype.__parent__=prototype;prototype=Child.prototype}this.getParent=function(extender){var prototype=Object.getPrototypeOf(this);while(prototype){if(prototype.extender===extender){return prototype.__parent__}if(!prototype.__parent__){return prototype}prototype=prototype.__parent__}return prototype};Object.setPrototypeOf(this,prototype)};var getFieldExtenders=function(field){var extenders=[];for(var extender of getValidExtenders(field)){extenders.push(getExtender(extender))}return extenders};var getExtender=function(extender){for(var model of storage){if(model.extender===extender){return model}}return false};var getValidExtenders=function(field){var rules={};for(var model of storage){if(!acfe.inArray(field.get("type"),model.type)){continue}if(model.hasOwnProperty("condition")&&!model.condition.apply(field,arguments)){continue}rules[model.extender]=model.dependencies}return sortExtenders(rules)};var sortExtenders=function(names,obj=names,start=[],depth=0){if(typeof names==="object"&&!Array.isArray(names)){names=Object.keys(names)}const processed=names.reduce(function(a,b,i){if(obj[b].every(Array.prototype.includes,a)){a.push(b)}return a},start);const nextNames=names.filter(function(n){return!processed.includes(n)});const goAgain=nextNames.length&&depth<=names.length;return goAgain?sortExtenders(nextNames,obj,processed,depth+1):processed}})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({actions:{new_field:"newField",duplicate_field:"duplicateField"},priority:1,validateField:function(field){if(!field.has("ftype")){return false}return!acf.getFieldType(field.get("type")).prototype.get("ftype")},newField:function(field){if(!this.validateField(field)){return}field.set("rtype",field.get("type"),true);field.set("type",field.get("ftype"),true);field.$el.attr("data-type",field.get("ftype"));field.$el.removeAttr("data-ftype");delete field.data["ftype"]},duplicateField:function(field,$fieldDup){if(field.get("rtype")){$fieldDup.attr("data-ftype",field.get("type"));$fieldDup.attr("data-type",field.get("rtype"))}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({field:false,placement:false,actions:{new_field:"newField"},newField:function(field){this.field=field;if(field.has("instructionTooltip")){this.setTooltip()}if(field.has("instructionAboveField")){this.setAboveField()}if(field.has("instructionPlacement")){this.overridePlacement(field.get("instructionPlacement"))}},setTooltip:function(){var icon=acfe.versionCompare(acf.get("wp_version"),">=","5.5")?"dashicons-info-outline":"dashicons-info";this.field.$labelWrap().prepend('<span class="acfe-field-tooltip acfe-js-tooltip dashicons '+icon+'" title="'+acf.strEscape(this.field.get("instructionTooltip"))+'"></span>');this.field.$labelWrap().find(".description").remove()},setAboveField:function(){this.field.$inputWrap().prepend('<p class="description">'+this.field.get("instructionAboveField")+"</p>");this.field.$labelWrap().find(".description").remove()},overridePlacement:function(target){var current=this.getPlacement();if(!current)return;if(current===target)return;this.setPlacement(target)},getPlacement:function(){var placement=false;if(this.field.$labelWrap().find(">.description").length)placement="label";else if(this.field.$inputWrap().find(">.description:first-child").length)placement="above_field";else if(this.field.$inputWrap().find(">.description:last-child").length)placement="field";else if(this.field.$labelWrap().find(">.acfe-field-tooltip").length)placement="tooltip";this.placement=placement;return this.placement},$getInstruction:function(){var placement=this.getPlacement();if(placement==="label"){return this.field.$labelWrap().find(">.description")}else if(placement==="above_field"){return this.field.$inputWrap().find(">.description:first-child")}else if(placement==="field"){return this.field.$inputWrap().find(">.description:last-child")}else if(placement==="tooltip"){return this.field.$labelWrap().find(">.acfe-field-tooltip")}return false},setPlacement:function(target){var $instruction=this.$getInstruction();if(this.placement==="tooltip"){var text=$instruction.attr("title");$instruction.remove();$instruction=$('<p class="description">'+text+"</p>")}if(target==="label"){this.field.$labelWrap().append($instruction)}else if(target==="above_field"){this.field.$inputWrap().prepend($instruction)}else if(target==="field"){this.field.$inputWrap().append($instruction)}else if(target==="tooltip"){var icon=acfe.versionCompare(acf.get("wp_version"),">=","5.5")?"dashicons-info-outline":"dashicons-info";this.field.$labelWrap().prepend($('<span class="acfe-field-tooltip acfe-js-tooltip dashicons '+icon+'" title="'+acf.strEscape($instruction.html())+'"></span>'));$instruction.remove()}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({actions:{new_field:"newField"},getFieldType:function(field){return field.get("rtype",field.get("type"))},validateField:function(field){if(!field.has("acfeLabels")){return false}return this.getFieldType(field)==="checkbox"||this.getFieldType(field)==="radio"},newField:function(field){if(!this.validateField(field)){return}var label,item;var labels=field.get("acfeLabels");switch(this.getFieldType(field)){case"checkbox":{for(label in labels){item=labels[label];field.$control().find('input[type=checkbox][value="'+item+'"]').closest("ul").before("<strong>"+label+"</strong>")}break}case"radio":{for(label in labels){item=labels[label];field.$control().find('input[type=radio][value="'+item+'"]').closest("li").addClass("parent").prepend("<strong>"+label+"</strong>")}if(field.$control().hasClass("acf-hl")){field.$control().find("li.parent").each(function(){$(this).nextUntil("li.parent").addBack().wrapAll("<li><ul></ul></li>")})}break}}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}acf.Field.prototype.getModal=function(args){var $modal=acfe.findModal("",this.$inputWrap());if(!$modal.length){return false}return acfe.getModal($modal,args)}})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({actions:{select2_init:"init"},filters:{select2_args:"args",select2_ajax_data:"ajaxData"},init:function($select,options,data,field,instance){if(!field){return}acf.doAction("select2_init/type="+field.get("type"),$select,options,data,field,instance);acf.doAction("select2_init/name="+field.get("name"),$select,options,data,field,instance);acf.doAction("select2_init/key="+field.get("key"),$select,options,data,field,instance)},args:function(options,$select,data,field,instance){if(!field){return options}options=acf.applyFilters("select2_args/type="+field.get("type"),options,$select,data,field,instance);options=acf.applyFilters("select2_args/name="+field.get("name"),options,$select,data,field,instance);options=acf.applyFilters("select2_args/key="+field.get("key"),options,$select,data,field,instance);if(!acf.isset(window,"jQuery","fn","selectWoo")){options.templateSelection=function(selection){var text=selection.text;text=acf.applyFilters("select2_template_selection",text,selection,$select,data,field,instance);text=acf.applyFilters("select2_template_selection/type="+field.get("type"),text,selection,$select,data,field,instance);text=acf.applyFilters("select2_template_selection/name="+field.get("name"),text,selection,$select,data,field,instance);text=acf.applyFilters("select2_template_selection/key="+field.get("key"),text,selection,$select,data,field,instance);var $selection=$('<span class="acf-selection"></span>');$selection.html(acf.escHtml(text));$selection.data("element",selection.element);return $selection};options.templateResult=function(selection){var text=selection.text;text=acf.applyFilters("select2_template_result",text,selection,$select,data,field,instance);text=acf.applyFilters("select2_template_result/type="+field.get("type"),text,selection,$select,data,field,instance);text=acf.applyFilters("select2_template_result/name="+field.get("name"),text,selection,$select,data,field,instance);text=acf.applyFilters("select2_template_result/key="+field.get("key"),text,selection,$select,data,field,instance);var $selection=$('<span class="acf-selection"></span>');$selection.html(acf.escHtml(text));$selection.data("element",selection.element);return $selection};if(acfe.versionCompare(acf.get("acf_version"),"<","5.10")){options.escapeMarkup=function(markup){if(typeof markup!=="string"){return markup}return acf.escHtml(markup)}}}return options},ajaxData:function(ajaxData,data,$el,field,instance){if(!field){return ajaxData}ajaxData=acf.applyFilters("select2_ajax_data/type="+field.get("type"),ajaxData,data,$el,field,instance);ajaxData=acf.applyFilters("select2_ajax_data/name="+field.get("name"),ajaxData,data,$el,field,instance);ajaxData=acf.applyFilters("select2_ajax_data/key="+field.get("key"),ajaxData,data,$el,field,instance);if(ajaxData.action){ajaxData=acf.applyFilters("select2_ajax_data/action="+ajaxData.action,ajaxData,data,$el,field,instance)}return ajaxData}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}acfe.Form=acf.Model.extend({notice:false,validator:false,events:{"click .button":"onClickSubmit",'click [type="submit"]':"onClickSubmit",invalidField:"onInvalidField","changed:status":"onChangeStatus",showErrors:"onShowErrors"},setup:function($el){this.$el=$el;var cid=$el.data("cid");$.extend(this.data,acfe.getFormData(cid));this.$el.data("acfe_form",this)},initialize:function(){this.$el.removeData("acf");if(this.get("hide_unload")){acf.unload.disable()}},onClickSubmit:function(e,$el){if($el.hasClass("disabled")){e.preventDefault()}},onInvalidField:function(e,$el){var field=acf.getField($(e.target));if(!field.notice||field.notice.get("type")!=="error"){return}if(this.get("error_class")){field.notice.$el.addClass(this.get("error_class"))}switch(this.get("error_position")){case"hide":{field.notice.remove();break}case"below":{if(field.$control().length){field.notice.$el.insertAfter(field.$control())}else if(field.$inputWrap().length){field.notice.$el.appendTo(field.$inputWrap())}field.notice.$el.addClass("-below");break}case"group":{var label=acfe.getTextNode(field.$labelWrap().find("label")).trim();var placeholder=field.$('.acf-input-wrap [placeholder!=""]').attr("placeholder");var message=field.notice.$el.text().trim();field.notice.remove();if(label&&label.length&&label!=="*"){message=`${label}: ${message}`}else if(placeholder&&placeholder.length&&placeholder!==""){message=`${placeholder}: ${message}`}else{var name=acfe.ucFirst(field.get("name")).replace(/_/g," ");message=`${name}: ${message}`}if(this.notice){this.notice.$el.append(acf.escHtml(`<p>${message}</p>`))}break}}},onChangeStatus:function(e,$el,status,prevStatus){switch(status){case"validating":{if(this.validator){return}var validator=this.$el.data("acf");var prototype=Object.getPrototypeOf(validator);var showErrors=prototype.showErrors;validator.showErrors=function(){showErrors.apply(this,arguments);validator.trigger("showErrors")};this.validator=validator;break}case"invalid":{if(this.get("error_position")==="group"){if(!this.validator.getFieldErrors().length){if(this.notice){this.notice.remove();this.notice=false}break}if(this.notice){this.notice.update({type:"error",html:""})}else{this.notice=acf.newNotice({type:"error",target:this.$el})}if(this.get("error_class")){this.notice.$el.addClass(this.get("error_class"))}this.notice.$el.find("p:empty").remove();this.setTimeout(function(){acfe.scrollTo(this.notice.$el)},20)}break}case"valid":{if(this.get("error_position")==="group"){if(this.notice){this.notice.remove();this.notice=false}}if(this.get("hide_revalidation")){if(this.validator.has("notice")){this.validator.get("notice").remove();this.validator.set("notice",null)}}break}}},onShowErrors:function(e,$el){if(this.get("hide_error")){if(this.validator.has("notice")){this.validator.get("notice").remove();this.validator.set("notice",null)}}else{if(this.validator.has("notice")){var fieldErrors=this.validator.getFieldErrors();var globalErrors=this.validator.getGlobalErrors();var errorCount=0;fieldErrors.map(function(error){var $input=this.validator.$('[name="'+error.input+'"]').first();if(!$input.length){$input=this.validator.$('[name^="'+error.input+'"]').first()}if($input.length){errorCount++}},this);var errorMessage=this.get("messages.failure");globalErrors.map(function(error){errorMessage+=errorMessage.length?". ":"";errorMessage+=error.message});if(errorCount===1&&this.get("messages.error")){errorMessage+=errorMessage.length?". ":"";errorMessage+=this.get("messages.error")}else if(errorCount>1&&this.get("messages.errors")){errorMessage+=errorMessage.length?". ":"";errorMessage+=this.get("messages.errors").replace("%d",errorCount)}this.validator.get("notice").update({text:errorMessage})}}},set:function(name,value,silent){var prevValue=this.get(name);if(prevValue===value){return this}var nameArray=name.split(".");var nameRoot=nameArray.shift();var prevValueRoot=this.get(nameRoot);acfe.arraySet(this.data,name,value);acfe.setFormData(this.get("cid"),name,value);var valueRoot=this.get(nameRoot);if(!silent){this.changed=true;if(nameArray.length>1){this.trigger(`changedData:${nameRoot}`,[valueRoot,prevValueRoot])}this.trigger("changedData:"+name,[value,prevValue]);this.trigger("changedData",[name,value,prevValue])}return this}});acf.addAction("acfe/form/validation_success",function($form,validator,form){if(validator.has("notice")){validator.get("notice").update({type:"success",text:form.get("messages.success"),timeout:1e3})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({wait:"prepare",priority:1,initialize:function(){if(!acfe.get("is_admin")){new formFields}}});var formFields=acf.Model.extend({actions:{"new_field/type=date_picker":"datePicker","new_field/type=date_time_picker":"datePicker","new_field/type=time_picker":"datePicker","new_field/type=acfe_date_range_picker":"datePicker","new_field/type=google_map":"googleMap"},datePicker:function(field){var form=field.getForm();if(form&&form.get("field_class")){field.$inputText().addClass(form.get("field_class"))}},googleMap:function(field){var form=field.getForm();if(form&&form.get("field_class")){field.$search().addClass(form.get("field_class"))}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}acf.Field.prototype.getForm=function(){return acfe.getForm(this.$el.closest(".acfe-form"))};acfe.findForms=function(args){if(!acfe.isObject(args)){args={name:args}}var selector=".acfe-form";var $forms=false;args=acf.parseArgs(args,{cid:[],name:[],parent:false,limit:false});args.cid=acfe.getArray(args.cid);args.name=acfe.getArray(args.name);if(args.name.length){for(var name of args.name){acfe.getFormsData({name:name}).map(function(form){args.cid.push(form.cid)})}if(!args.cid.length){return $()}}if(args.cid.length){var array=[];for(var cid of args.cid){array.push(selector+'[data-cid="'+cid+'"]')}selector=array.join(",")}if(args.parent){$forms=args.parent.find(selector)}else{$forms=$(selector)}if(args.limit){$forms=$forms.slice(0,args.limit)}return $forms};acfe.getForms=function($forms){if($forms instanceof jQuery){}else{$forms=acfe.findForms($forms)}var forms=[];$forms.each(function(){var form=acfe.getForm($(this));if(form){forms.push(form)}});return forms};acfe.getForm=function($form){if($form instanceof jQuery){if(!$form.hasClass("acfe-form")){return false}}else{$form=acfe.findForm($form)}if($form.length){var form=$form.data("acfe_form");if(!form){form=acfe.newForm($form)}return form}return false};acfe.findForm=function(args){if(!acfe.isObject(args)){args={name:args}}args=acf.parseArgs(args,{limit:1});return acfe.findForms(args)};acfe.newForm=function($form){var form=new acfe.Form($form);acf.doAction(`acfe/new_form`,form);acf.doAction(`acfe/new_form/form=${form.get("name")}`,form);return form};acfe.getFormsData=function(args){if(args instanceof acfe.Form){args={form:args}}else if(!acfe.isObject(args)){args={cid:args}}args=acf.parseArgs(args,{form:"",cid:"",name:"",success:""});if(args.form&&args.form instanceof acfe.Form){args.cid=args.form.get("cid")}var forms=[];var data=acfe.get("forms",{});if(!Object.keys(data).length){return forms}for(var cid in data){if(data[cid]){var matchCid=true;var matchName=true;var matchSuccess=true;if(args.cid.length){matchCid=args.cid===cid}if(args.name.length){matchName=args.name===data[cid].name}if(args.success!==""){matchSuccess=args.success===data[cid].success}if(matchCid&&matchName&&matchSuccess){forms.push(data[cid])}}}return forms};acfe.getFormData=function(args){var forms=acfe.getFormsData(args);if(forms.length){return forms.shift()}return false};acfe.setFormData=function(cid,path,value){acfe.set(`forms.${cid}.${path}`,value)};acfe.renderForm=function($parent){if($parent&&$parent.length&&$parent.hasClass("acfe-form")){$parent=$parent.parent()}acf.doAction("append",$parent)}})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({wait:"prepare",priority:5,initialize:function(){if(!acfe.get("is_admin")){new renderHooks}}});var renderHooks=acf.Model.extend({actions:{validation_begin:"validationBegin",validation_failure:"validationFailure",validation_success:"validationSuccess",submit:"submit"},filters:{validation_complete:"validationComplete"},validationBegin:function($el){var form=acfe.getForm($el);if(form){var validator=$el.data("acf");acf.doAction("acfe/form/validation_begin",$el,validator,form);acf.doAction(`acfe/form/validation_begin/form=${form.get("name")}`,$el,validator,form)}},validationFailure:function($el,validator){var form=acfe.getForm($el);if(form){acf.doAction("acfe/form/validation_failure",$el,validator,form);acf.doAction(`acfe/form/validation_failure/form=${form.get("name")}`,$el,validator,form)}},validationSuccess:function($el,validator){var form=acfe.getForm($el);if(form){acf.doAction("acfe/form/validation_success",$el,validator,form);acf.doAction(`acfe/form/validation_success/form=${form.get("name")}`,$el,validator,form)}},submit:function($el){var form=acfe.getForm($el);if(form){var validator=$el.data("acf");acf.doAction("acfe/form/submit",$el,validator,form);acf.doAction(`acfe/form/submit/form=${form.get("name")}`,$el,validator,form)}},validationComplete:function(data,$el,validator){var form=acfe.getForm($el);if(form){data=acf.applyFilters("acfe/form/validation_complete",data,$el,validator,form);data=acf.applyFilters(`acfe/form/validation_complete/form=${form.get("name")}`,data,$el,validator,form)}return data}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var actions=["prepare","ready","load","append"];actions.map(function(action){acf.addAction(action,function($el){if(!acfe.get("is_admin")){acfe.getForms({parent:$el})}},1)})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({wait:"ready",priority:15,initialize:function(){if(!acfe.get("is_admin")&&acf.isset(window,"wp","media","view","settings","post")){new formMedia}}});var formMedia=acf.Model.extend({defaultPostId:null,actions:{new_media_popup:"newMediaPopup","acfe/before_editor_media_popup":"beforeEditorPopup","acfe/open_editor_media_popup":"openEditorPopup","acfe/close_editor_media_popup":"closeEditorPopup"},filters:{"acfe/select_media_popup/args":"mediaPopupArgs","acfe/select_media_popup/frame_options":"mediaPopupFrameOptions"},initialize:function(){this.defaultPostId=wp.media.view.settings.post.id},resetPostId:function(){wp.media.view.settings.post.id=this.defaultPostId},newMediaPopup:function(popup){if(popup.get("attachTo")!==null){wp.media.view.settings.post.id=popup.get("attachTo")}popup.frame.on("close",this.proxy(this.resetPostId))},beforeEditorPopup:function(field){var attachTo=this.getFieldAttachTo(field);if(attachTo!==false){wp.media.view.settings.post.id=attachTo}},openEditorPopup:function(field){var attachTo=this.getFieldAttachTo(field);if(attachTo!==false){wp.media.view.settings.post.id=attachTo}},closeEditorPopup:function(field){this.setTimeout(this.resetPostId,100)},mediaPopupArgs:function(args,field){var attachTo=this.getFieldAttachTo(field);if(attachTo!==false){args.attachTo=attachTo}return args},mediaPopupFrameOptions:function(options,popup){if(popup.get("library")==="uploadedTo"&&popup.get("attachTo")!==null){options.library.uploadedTo=popup.get("attachTo")}return options},getFieldAttachTo:function(field){var form=field.getForm();if(!form){return false}var attachTo=0;if(form.get("media")){form.get("media").some(function(row){if(acfe.inArray(field.get("key"),row.fields)){attachTo=row.post_id;return true}})}return attachTo}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({wait:"prepare",priority:5,initialize:function(){if(!acfe.get("is_admin")){new renderSuccess}}});var renderSuccess=acf.Model.extend({initialize:function(){var object=this.getFormSuccess();if(!object){return}var data=object.data;var $el=object.form?object.form.$el:false;var form=object.form?object.form:false;var formData=object.form?object.form.get("success_data"):object.data.success_data;acf.doAction(`acfe/form/submit_success`,$el,form,formData);acf.doAction(`acfe/form/submit_success/form=${data.name}`,$el,form,formData);acfe.doActionDeprecated(`acfe/form/success`,[$el],"0.9.0.3",`acfe/form/submit_success`);acfe.doActionDeprecated(`acfe/form/success/id=${data.id}`,[$el],"0.9.0.3",`acfe/form/submit_success/form=${data.name}`);acfe.doActionDeprecated(`acfe/form/success/form=${data.name}`,[$el],"0.9.0.3",`acfe/form/submit_success/form=${data.name}`);acfe.doActionDeprecated(`acfe/form/success/name=${data.name}`,[$el],"0.9.0.3",`acfe/form/submit_success/form=${data.name}`);acfe.doActionDeprecated(`acfe/form/submit/success`,[$el],"0.9.0.3",`acfe/form/submit_success`);acfe.doActionDeprecated(`acfe/form/submit/success/id=${data.id}`,[$el],"0.9.0.3",`acfe/form/submit_success/form=${data.name}`);acfe.doActionDeprecated(`acfe/form/submit/success/name=${data.name}`,[$el],"0.9.0.3",`acfe/form/submit_success/form=${data.name}`);if(data.scroll){if(data.selector){acfe.scrollTo($(data.selector))}else if($el){acfe.scrollTo($el.prev())}}},getFormSuccess:function(){var formData=acfe.getFormData({success:true});if(formData){return{form:acfe.getForm({cid:formData.cid}),data:formData}}return false}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var selectAttachment=function(){var parent=this.parent();var multiple=parent&&parent.get("type")==="repeater";var args={mode:"select",field:this.get("key"),multiple:multiple,library:this.get("library"),allowedTypes:this.get("mime_types"),select:$.proxy(function(attachment,i){if(i>0){this.append(attachment,parent)}else{this.render(attachment)}},this)};switch(this.get("type")){case"image":{args.type="image";args.title=acf.__("Select Image");break}case"file":{args.title=acf.__("Select File");break}}args=acf.applyFilters(`acfe/select_media_popup/args`,args,this);args=acf.applyFilters(`acfe/select_media_popup/args/type=${this.get("type")}`,args,this);args=acf.applyFilters(`acfe/select_media_popup/args/name=${this.get("name")}`,args,this);args=acf.applyFilters(`acfe/select_media_popup/args/key=${this.get("key")}`,args,this);var frame=acf.newMediaPopup(args)};acf.models.ImageField.prototype.selectAttachment=selectAttachment;acf.models.FileField.prototype.selectAttachment=selectAttachment;var editAttachment=function(){var val=this.val();if(!val){return false}var args={mode:"edit",attachment:val,field:this.get("key"),select:$.proxy(function(attachment,i){this.render(attachment)},this)};switch(this.get("type")){case"image":{args.title=acf.__("Edit File");args.button=acf.__("Update File");break}case"file":{args.title=acf.__("Edit Image");args.button=acf.__("Update Image");break}}args=acf.applyFilters(`acfe/edit_media_popup/args`,args,this);args=acf.applyFilters(`acfe/edit_media_popup/args/type=${this.get("type")}`,args,this);args=acf.applyFilters(`acfe/edit_media_popup/args/name=${this.get("name")}`,args,this);args=acf.applyFilters(`acfe/edit_media_popup/args/key=${this.get("key")}`,args,this);var frame=acf.newMediaPopup(args)};acf.models.ImageField.prototype.editAttachment=editAttachment;acf.models.FileField.prototype.editAttachment=editAttachment;var galleryOnClickAdd=function(e,$el){if(this.isFull()){this.showNotice({text:acf.__("Maximum selection reached"),type:"warning"});return}var args={mode:"select",title:acf.__("Add Image to Gallery"),field:this.get("key"),multiple:"add",library:this.get("library"),allowedTypes:this.get("mime_types"),selected:this.val(),select:$.proxy(function(attachment,i){this.appendAttachment(attachment,i)},this)};args=acf.applyFilters(`acfe/select_media_popup/args`,args,this);args=acf.applyFilters(`acfe/select_media_popup/args/type=${this.get("type")}`,args,this);args=acf.applyFilters(`acfe/select_media_popup/args/name=${this.get("name")}`,args,this);args=acf.applyFilters(`acfe/select_media_popup/args/key=${this.get("key")}`,args,this);var frame=acf.newMediaPopup(args)};var galleryEditAttachment=function(id){var args={mode:"edit",title:acf.__("Edit Image"),button:acf.__("Update Image"),attachment:id,field:this.get("key"),select:$.proxy(function(attachment,i){this.renderAttachment(attachment)},this)};args=acf.applyFilters(`acfe/edit_media_popup/args`,args,this);args=acf.applyFilters(`acfe/edit_media_popup/args/type=${this.get("type")}`,args,this);args=acf.applyFilters(`acfe/edit_media_popup/args/name=${this.get("name")}`,args,this);args=acf.applyFilters(`acfe/edit_media_popup/args/key=${this.get("key")}`,args,this);var frame=acf.newMediaPopup(args)};acf.models.GalleryField.prototype.onClickAdd=galleryOnClickAdd;acf.models.GalleryField.prototype.editAttachment=galleryEditAttachment;var selectGetFrameOptions=acf.models.SelectMediaPopup.prototype.getFrameOptions;acf.models.SelectMediaPopup.prototype.getFrameOptions=function(){var options=selectGetFrameOptions.apply(this,arguments);options=acf.applyFilters(`acfe/select_media_popup/frame_options`,options,this);return options};var editGetFrameOptions=acf.models.EditMediaPopup.prototype.getFrameOptions;acf.models.EditMediaPopup.prototype.getFrameOptions=function(){var options=editGetFrameOptions.apply(this,arguments);options=acf.applyFilters(`acfe/edit_media_popup/frame_options`,options,this);return options};new acf.Model({wait:"prepare",done:[],initialize:function(){if(acf.isset(window,"wp","media","editor")){this.customizeEditor()}},customizeEditor:function(){var self=this;var parent=wp.media.editor.add;wp.media.editor.add=function(id,options){if(typeof id!=="string"||!id.startsWith("acf-editor")||self.done.includes(id)){return parent.apply(this,arguments)}self.done.push(id);var $field=$("#"+id).closest(".acf-field");if(!$field.length){return parent.apply(this,arguments)}var field=acf.getInstance($field);if(!field){return parent.apply(this,arguments)}acf.doAction("acfe/before_editor_media_popup",field);var frame=parent.apply(this,arguments);acf.doAction("acfe/new_editor_media_popup",field,frame);frame.on("open",function(){acf.doAction("acfe/open_editor_media_popup",field,frame)});frame.on("close",function(){acf.doAction("acfe/close_editor_media_popup",field,frame)});return frame}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}acf.validation.onClickSubmit=function(e,$el){ensureInvalidFieldVisibility($el);this.set("originalEvent",e)};var ensureInvalidFieldVisibility=function($el){var $inputs=$(".acf-field input");var $form=$el.closest("form");if($form.length){$inputs=$form.find(".acf-field input")}$inputs.each(function(){if(!this.checkValidity()){ensureFieldPostBoxIsVisible($(this))}})};var ensureFieldPostBoxIsVisible=function($el){var $postbox=$el.parents(".acf-postbox");if($postbox.length){var acf_postbox=acf.getPostbox($postbox);if(acf_postbox&&(acf_postbox.$el.hasClass("hide-if-js")||acf_postbox.$el.css("display")=="none")){acf_postbox.$el.removeClass("hide-if-js");acf_postbox.$el.css("display","")}}}})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var ACFE_Advanced_Link=acf.Field.extend({type:"acfe_advanced_link",events:{'click a[data-name="add"]':"onClickEdit",'click a[data-name="edit"]':"onClickEdit",'click a[data-name="remove"]':"onClickRemove"},$control:function(){return this.$(".acf-link")},getSubField:function(key){return acf.getFields({key:key,parent:this.$el}).shift()},getSubFields:function(){return acf.getFields({parent:this.$el})},getValue:function(){var data={type:this.getSubField("type").val(),title:this.getSubField("title").val(),value:"",name:"",target:Boolean(this.getSubField("target").val())};data.value=this.getSubField(data.type).val();data.name=data.value;if(data.type==="post"||data.type==="term"){data.name=this.getSubField(data.type).$input().find(":selected").text()}return data},setValue:function(val){if(!val){return this.clearValue()}if(acfe.isString(val)){val={type:"url",title:"",value:val,target:false}}val=acf.parseArgs(val,{type:"url",value:"",title:"",target:false});this.getSubField("type").val(val.type);this.getSubField(val.type).val(val.value);this.getSubField("title").val(val.title);this.getSubField("target").val(val.target);this.renderValue()},clearValue:function(){this.getSubFields().map(function(field){field.val("")})},renderValue:function(){var val=this.val();var $control=this.$control();$control.removeClass("-value -external");if(val.value||val.title){$control.addClass("-value")}if(val.target){$control.addClass("-external")}var url=val.type==="url"?val.value:"#";this.$(".link-title").html(val.title);this.$(".link-url").attr("href",url).html(val.name)},onClickEdit:function(e,$el){this.getModal({open:true,onClose:this.proxy(function(){this.renderValue()})})},onClickRemove:function(e,$el){this.clearValue();this.renderValue()}});acf.registerFieldType(ACFE_Advanced_Link);new acf.Model({filters:{"select2_ajax_data/action=acfe/fields/advanced_link/post_query":"ajaxData"},ajaxData:function(ajaxData,data,$el,field,select){var parentField=field.parent();if(parentField){ajaxData.field_key=parentField.get("key")}return ajaxData}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var ACFE_Button=acf.Field.extend({type:"acfe_button",events:{"click input":"onClick","click button":"onClick"},$input:function(){if(this.$("input").length){return this.$("input")}else if(this.$("button").length){return this.$("button")}},initialize:function(){var $button=this.$input();this.inherit($button)},onClick:function(e,$el){if(!this.get("ajax"))return;e.preventDefault();var data={action:"acfe/fields/button",field_key:this.get("key"),acf:acf.serialize(this.$el.closest("form"),"acf")};data=acf.applyFilters("acfe/fields/button/data",data,this.$el);data=acf.applyFilters("acfe/fields/button/data/name="+this.get("name"),data,this.$el);data=acf.applyFilters("acfe/fields/button/data/key="+this.get("key"),data,this.$el);acf.doAction("acfe/fields/button/before_ajax",this.$el,data);acf.doAction("acfe/fields/button/before",this.$el,data);acf.doAction("acfe/fields/button/before/name="+this.get("name"),this.$el,data);acf.doAction("acfe/fields/button/before/key="+this.get("key"),this.$el,data);$.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(data),type:"post",dataType:"json",context:this,success:function(response){acf.doAction("acfe/fields/button/ajax_success",response,this.$el,data);acf.doAction("acfe/fields/button/success",response,this.$el,data);acf.doAction("acfe/fields/button/success/name="+this.get("name"),response,this.$el,data);acf.doAction("acfe/fields/button/success/key="+this.get("key"),response,this.$el,data)},complete:function(xhr){var response=xhr.responseText;acf.doAction("acfe/fields/button/complete",response,this.$el,data);acf.doAction("acfe/fields/button/complete/name="+this.get("name"),response,this.$el,data);acf.doAction("acfe/fields/button/complete/key="+this.get("key"),response,this.$el,data)}})}});acf.registerFieldType(ACFE_Button)})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Checkbox=acf.models.CheckboxField;acf.models.CheckboxField=Checkbox.extend({setValue:function(val){if(!val){return this.clearValue()}var vals=acfe.getArray(val);vals.map(function(val){var $option=this.$(':checkbox[value="'+val+'"]');if($option.length&&!$option.is(":checked")){$option.prop("checked",true).trigger("change")}},this)},clearValue:function(){var $inputs=this.$inputs();var $labels=this.$("label");$inputs.prop("checked",false);$labels.removeClass("selected")}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Clone=acf.Field.extend({wait:false,type:"clone",events:{duplicateField:"onDuplicate"},initialize:function(){if(this.has("acfeCloneModal")){this.$el.find("> .acf-input > .acf-fields, > .acf-input > .acf-table").wrapAll('<div class="acfe-modal"><div class="acfe-modal-wrapper"><div class="acfe-modal-content"></div></div></div>');this.$el.find("> .acf-input").append('<a href="#" class="acf-button button" data-modal>'+this.get("acfeCloneModalButton")+"</a>");this.initializeModal()}},initializeModal:function(){var title=this.$labelWrap().find("label").text().trim();if(this.$el.is("td")){title=this.get("acfeCloneModalButton");var $th=this.$el.closest("table").find(' > thead th[data-key="'+this.get("key")+'"]');if($th.length){title=acfe.getTextNode($th)}}if(!title.length){title=this.get("acfeCloneModalButton")}this.getModal({title:title,size:this.has("acfeCloneModalSize")?this.get("acfeCloneModalSize"):"large",footer:this.has("acfeCloneModalClose")?acf.__("Close"):false,class:"acfe-modal-edit-"+this.get("name")+" acfe-modal-edit-"+this.get("key")})},onDuplicate:function(e,$el,$duplicate){$duplicate.find(".acf-input:first > a[data-modal]").remove()}});acf.registerFieldType(Clone)})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var CodeEditor=acf.Field.extend({wait:false,type:"acfe_code_editor",editor:{},events:{showField:"onShow",duplicateField:"onDuplicate"},$control:function(){return this.$("> .acf-input > .acf-input-wrap")},$input:function(){return this.$control().find("> textarea")},initialize:function(){if(!acf.isset(wp,"codeEditor")){return}var args={lineNumbers:this.get("lines"),lineWrapping:true,styleActiveLine:false,continueComments:true,indentUnit:this.get("indentUnit"),tabSize:1,indentWithTabs:false,autoRefresh:true,mode:this.get("mode"),extraKeys:{Tab:function(cm){cm.execCommand("indentMore")},"Shift-Tab":function(cm){cm.execCommand("indentLess")}}};args=acf.applyFilters("acfe/fields/code_editor/args",args,this);args=acf.applyFilters("acfe/fields/code_editor/args/name="+this.get("name"),args,this);args=acf.applyFilters("acfe/fields/code_editor/args/key="+this.get("key"),args,this);this.editor=wp.codeEditor.initialize(this.$input().get(0),{codemirror:$.extend(wp.codeEditor.defaultSettings.codemirror,args)});if(this.get("rows")){this.editor.codemirror.getScrollerElement().style.minHeight=this.get("rows")*18.5+"px"}if(this.get("maxRows")){this.editor.codemirror.getScrollerElement().style.maxHeight=this.get("maxRows")*18.5+"px"}this.editor.codemirror.on("change",this.proxy(this.onEditorChange));acf.doAction("acfe/fields/code_editor/init",this.editor,this);acf.doAction("acfe/fields/code_editor/init/name="+this.get("name"),this.editor,this);acf.doAction("acfe/fields/code_editor/init/key="+this.get("key"),this.editor,this)},onEditorChange:function(e,$el){this.editor.codemirror.save();this.$input().change()},onShow:function(){if(this.editor.codemirror){this.editor.codemirror.refresh()}},onDuplicate:function(e,$el,$duplicate){$duplicate.find(".CodeMirror:last").remove()}});acf.registerFieldType(CodeEditor)})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Column=acf.Field.extend({wait:"new_field",type:"acfe_column",$control:function(){return this.$(".acf-fields:first")},initialize:function(){if(this.$el.is("td")){this.$el.closest(".acf-table").find('th[data-type="acfe_column"]').remove();this.remove()}if(this.get("endpoint")){this.$el.find("> .acf-label").remove();this.$el.find("> .acf-input").remove();return}var $field=this.$el;var $label=this.$el.find("> .acf-label");var $input=this.$inputWrap();var $wrap=this.$control();$label.remove();var $parent=$field.parent();$parent.addClass("acfe-column-wrapper");$wrap.addClass($parent.hasClass("-left")?"-left":"");$wrap.addClass($parent.hasClass("-clear")?"-clear":"");$wrap.append($field.nextUntil(".acf-field-acfe-column",".acf-field"))}});acf.registerFieldType(Column)})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var FlexibleContent=acf.models.FlexibleContentField;acf.models.FlexibleContentField=FlexibleContent.extend({addSortable:function(self){if(this.get("max")==1){return}this.$layoutsWrap().sortable({items:"> .layout",handle:"> .acf-fc-layout-actions-wrap > .acf-fc-layout-handle",forceHelperSize:false,forcePlaceholderSize:true,revert:50,tolerance:"pointer",scroll:true,stop:function(event,ui){self.render()},update:function(event,ui){self.$input().trigger("change")}})},add:function(args){var $el=FlexibleContent.prototype.add.apply(this,arguments);if($el.length){$el.data("added",true)}}});new acf.Model({actions:{invalid_field:"onInvalidField",valid_field:"onValidField"},onInvalidField:function(field){field.$el.parents(".layout").addClass("acfe-flexible-modal-edit-error")},onValidField:function(field){field.$el.parents(".layout").each(function(){var $layout=$(this);if(!$layout.find(".acf-error").length){$layout.removeClass("acfe-flexible-modal-edit-error")}})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var TooltipConfirmInitialize=acf.models.TooltipConfirm.prototype.initialize;acf.models.TooltipConfirm.prototype.initialize=function(){TooltipConfirmInitialize.apply(this,arguments);if(!acfe.isACF65()){if(this.$el.hasClass("acf-fc-popup")){this.$el.addClass("-legacy")}}};var TooltipConfirmOnConfirm=acf.models.TooltipConfirm.prototype.onConfirm;acf.models.TooltipConfirm.prototype.onConfirm=function(e,$el){if(!acfe.isACF65()){TooltipConfirmOnConfirm.apply(this,arguments);return}if(!this.$el.hasClass("acf-more-layout-actions")){TooltipConfirmOnConfirm.apply(this,arguments);return}if(!$el.is("[data-action]")){TooltipConfirmOnConfirm.apply(this,arguments);return}var $dots=this.get("target");var $layout=$dots.closest(".layout");var $field=$layout.closest(".acf-field");var field=acf.getInstance($field);if(!field){TooltipConfirmOnConfirm.apply(this,arguments);return}var key=field.get("key");var name=field.get("name");var layout=$layout.data("layout");var action=$el.data("action");var prevent=false;prevent=acf.applyFilters(`acfe/fields/flexible_content/prevent_action_button`,prevent,$el,action,layout,$layout,field);prevent=acf.applyFilters(`acfe/fields/flexible_content/prevent_action_button/name=${name}`,prevent,$el,action,layout,$layout,field);prevent=acf.applyFilters(`acfe/fields/flexible_content/prevent_action_button/key=${key}`,prevent,$el,action,layout,$layout,field);prevent=acf.applyFilters(`acfe/fields/flexible_content/prevent_action_button/layout=${layout}`,prevent,$el,action,layout,$layout,field);prevent=acf.applyFilters(`acfe/fields/flexible_content/prevent_action_button/action=${action}`,prevent,$el,action,layout,$layout,field);prevent=acf.applyFilters(`acfe/fields/flexible_content/prevent_action_button/name=${name}&layout=${layout}`,prevent,$el,action,layout,$layout,field);if(!prevent){TooltipConfirmOnConfirm.apply(this,arguments)}acf.doAction(`acfe/fields/flexible_content/click_action_button`,$el,action,layout,$layout,field);acf.doAction(`acfe/fields/flexible_content/click_action_button/name=${name}`,$el,action,layout,$layout,field);acf.doAction(`acfe/fields/flexible_content/click_action_button/key=${key}`,$el,action,layout,$layout,field);acf.doAction(`acfe/fields/flexible_content/click_action_button/layout=${layout}`,$el,action,layout,$layout,field);acf.doAction(`acfe/fields/flexible_content/click_action_button/action=${action}`,$el,action,layout,$layout,field);acf.doAction(`acfe/fields/flexible_content/click_action_button/name=${name}&layout=${layout}`,$el,action,layout,$layout,field);acf.doAction(`acfe/fields/flexible_content/click_action_button/key=${key}&layout=${layout}`,$el,action,layout,$layout,field)};var Field=acfe.FieldExtender({id:"fc_pre_acf65",type:"flexible_content",condition:function(){return!acfe.isACF65()},renderLayout:function($layout){if(this.has("acfeFlexibleRemoveAjaxTitle")){return}var $input=$layout.children("input");var prefix=$input.attr("name").replace("[acf_fc_layout]","");var ajaxData={action:"acf/fields/flexible_content/layout_title",field_key:this.get("key"),i:$layout.index(),layout:$layout.data("layout"),value:acf.serialize($layout,prefix)};$.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(ajaxData),dataType:"html",type:"post",success:function(html){if(html){$layout.find("> .acf-fc-layout-actions-wrap > .acf-fc-layout-handle > .acf-fc-layout-title").html(html)}}})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_append",type:"flexible_content",initialize:function(){this.getParent(Field).initialize.apply(this,arguments);this.addEvents({appendLayout:"acfeAppendLayout"})},acfeAppendLayout:function(e,$el,$layout){if(!$layout.is(".acfe-layout-duplicated")){if(this.has("acfeFlexibleModalEdition")){this.acfeModalEdit(null,$layout)}else{this.openLayout($layout)}}var modal=acfe.getModal($layout.closest(".acfe-modal.-open"));if(modal){this.acfeScrollToLayout($layout,modal.$content())}else if($layout.is(".acfe-layout-duplicated")){this.acfeScrollToLayout($layout)}else{this.setTimeout(function(){if($layout.data("added")){this.acfeScrollToLayout($layout)}},10)}},acfeScrollToLayout:function($layout,$parent){var hasParent=$parent||false;$parent=$parent||$("body, html");if(!acf.isInView($layout)){var scrollTop=hasParent?$layout.position().top:$layout.offset().top-$(window).height()/2;$parent.animate({scrollTop:scrollTop},500)}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_async",type:"flexible_content",condition:function(){return this.has("acfeFlexibleAjax")},add:function(args){args=acf.parseArgs(args,{layout:"",before:false});if(!this.allowAdd()){return false}var ajaxData={action:"acfe/flexible/models",field_key:this.get("key"),layout:args.layout};var beforeSend=function(){$("body").addClass("-loading")};var complete=function(){$("body").removeClass("-loading")};var success=this.proxy(function(html){if(html){var $layout=$(html);var uniqid=acf.uniqid();var search="acf["+this.get("key")+"][acfcloneindex]";var replace=this.$control().find("> input[type=hidden]").attr("name")+"["+uniqid+"]";var $el=acf.duplicate({target:$layout,search:search,replace:replace,append:this.proxy(function($el,$el2){if(args.before){args.before.before($el2)}else{this.$layoutsWrap().append($el2)}acf.enable($el2,this.cid);this.render()})});$el.attr("data-id",uniqid);this.$input().trigger("change");return $el}});$.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(ajaxData),dataType:"html",type:"post",beforeSend:beforeSend,success:success,complete:complete})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_clone_layout",type:"flexible_content",events:{'click [data-name="acfe-clone-layout"]':"acfeCloneLayout"},acfeCloneLayout:function(e,$el){var $layout=$el.closest(".layout");var layout_name=$layout.data("layout");var $popup=$(this.$popup().html());var $layouts=this.$layouts();var countLayouts=function(name){return $layouts.filter(function(){return $(this).data("layout")===name}).length};var $a=$popup.find('[data-layout="'+layout_name+'"]');var min=$a.data("min")||0;var max=$a.data("max")||0;var count=countLayouts(layout_name);if(max&&count>=max){$el.addClass("disabled");return false}$el.removeClass("disabled");this.acfeFixInputs($layout);var $_layout=$layout.clone();this.acfeCleanLayouts($_layout);var parent=$el.closest(".acf-flexible-content").find("> input[type=hidden]").attr("name");var $layout_added=this.acfeDuplicate({layout:$_layout,before:$layout,parent:parent})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_copy_layout",type:"flexible_content",events:{'click [data-name="acfe-copy-layout"]':"acfeCopyLayout"},acfeCopyLayout:function(e,$el){var $layout=$el.closest(".layout");$layout.find("option").each(function(){if(this.selected){$(this).attr("selected","selected")}else{$(this).attr("selected",false)}});var $clone=$layout.clone();var input=this.$control().find("> input[type=hidden]").attr("name");this.acfeFixInputs($clone);this.acfeCleanLayouts($clone);var data=JSON.stringify({source:input,layouts:$clone[0].outerHTML});acfe.copyClipboard(data,{auto:{title:acf.__("Layout copied to clipboard"),text:acf.__('You can now paste it anywhere using the "Paste Layout" secondary action.')},manual:{title:acf.__("Layout ready to be copied"),text:acf.__("Please copy the following data to your clipboard.")+"<br /><br />"+acf.__('You can then paste it anywhere using the "Paste Layout" secondary action.')}})}});var Field=acfe.FieldExtender({id:"fc_secondary_actions",type:"flexible_content",events:{'click [data-name="acfe-secondary-actions"]':"acfeSecondaryActions"},acfeSecondaryActions:function(e,$el){var $dropdown=this.$(".tmpl-acfe-fc-secondary-popup:last").html();var Popup=acf.models.TooltipConfirm.extend({render:function(){this.html(this.get("text"));this.$el.addClass("acf-fc-popup acfe-fc-secondary-popup")}});var popup=new Popup({target:$el,targetConfirm:false,text:$dropdown,context:this,confirm:function(e,$el){if($el.attr("data-name")==="acfe-paste-layouts"){this.acfePasteLayoutsModal()}else if($el.attr("data-name")==="acfe-copy-layouts"){this.acfeCopyLayouts()}}});popup.on("click","a","onConfirm")},acfeCopyLayouts:function(){var $layouts=this.$layoutsWrap();$layouts.find("option").each(function(){if(this.selected){$(this).attr("selected","selected")}else{$(this).attr("selected",false)}});var $clones=$layouts.clone();var input=this.$control().find("> input[type=hidden]").attr("name");this.acfeFixInputs($clones);this.acfeCleanLayouts($clones);var data=JSON.stringify({source:input,layouts:$clones.html()});acfe.copyClipboard(data,{auto:{title:acf.__("Layouts copied to clipboard"),text:acf.__('You can now paste them anywhere using the "Paste Layout" secondary action.')},manual:{title:acf.__("Layouts ready to be copied"),text:acf.__("Please copy the following data to your clipboard.")+"<br /><br />"+acf.__('You can then paste it anywhere using the "Paste Layout" secondary action.')}})},acfePasteLayoutsModal:function(){var self=this;acfe.newModal({title:acf.__("Paste layouts data"),destroy:true,width:470,class:"acfe-modal-fc-paste-layout",events:{"click .apply":"onClickApply"},content:function(){var html="";html+=`<div class="acfe-modal-spacer">`;html+=`<div>${acf.__("Paste the layouts data from your clipboard to apply it to this page.")}</div>`;html+=`<textarea></textarea>`;html+=`</div>`;return html},footer:function(){return`<a href="#" class="button button-large close cancel">${acf.__("Cancel")}</a> <a href="#" class="button button-large button-primary apply">${acf.__("Apply")}</a>`},onOpen:function(){this.$("textarea").focus()},onClickApply:function(e,$el){e.preventDefault();var value=this.$("textarea").val();self.acfePasteLayouts(value);this.close()}})},acfePasteLayouts:function(paste=null){var flexible=this;if(paste==null||paste===""){return}try{var data=JSON.parse(paste);var source=data.source;var $html=$(data.layouts);var $html_layouts=$html.closest("[data-layout]");if(!$html_layouts.length){return alert("No layouts data available")}var $popup=$(flexible.$popup().html());var $layouts=flexible.$layouts();var countLayouts=function(name){return $layouts.filter(function(){return $(this).data("layout")===name}).length};var validated_layouts=[];$html_layouts.each(function(){var $this=$(this);var layout_name=$this.data("layout");var $a=$popup.find('[data-layout="'+layout_name+'"]');var min=$a.data("min")||0;var max=$a.data("max")||0;var count=countLayouts(layout_name);if(max&&count>=max){return}var get_clone_layout=flexible.$clone($this.attr("data-layout"));if(!get_clone_layout.length){return}validated_layouts.push($this)});if(!validated_layouts.length){return alert("No layouts could be pasted")}$.each(validated_layouts,function(){var $layout=$(this);var search=source+"["+$layout.attr("data-id")+"]";var target=flexible.$control().find("> input[type=hidden]").attr("name");flexible.acfeDuplicate({layout:$layout,before:false,search:search,parent:target})})}catch(e){console.log(e);alert("Invalid data")}},acfeDuplicate:function(args){args=acf.parseArgs(args,{layout:"",before:false,parent:false,search:"",replace:""});if(!this.allowAdd()){return false}var uniqid=acf.uniqid();if(args.parent){if(!args.search){args.search=args.parent+"["+args.layout.attr("data-id")+"]"}args.replace=args.parent+"["+uniqid+"]"}var duplicate_args={target:args.layout,search:args.search,replace:args.replace,append:this.proxy(function($el,$el2){$el2.addClass("acfe-layout-duplicated");$el2.attr("data-id",uniqid);if(args.before){args.before.after($el2)}else{this.$layoutsWrap().append($el2)}acf.enable($el2,this.cid);this.render()})};if(acfe.versionCompare(acf.get("acf_version"),"<","5.9")){var $el=acf.duplicate(duplicate_args)}else{var $el=this.acfeNewAcfDuplicate(duplicate_args)}this.$input().trigger("change");var tabs=acf.getFields({type:"tab",parent:$el});if(tabs.length){$.each(tabs,function(){if(this.$el.hasClass("acf-hidden")){this.tab.$el.addClass("acf-hidden")}})}return $el},acfeNewAcfDuplicate:function(args){if(args instanceof jQuery){args={target:args}}args=acf.parseArgs(args,{target:false,search:"",replace:"",rename:true,before:function($el){},after:function($el,$el2){},append:function($el,$el2){$el.after($el2)}});args.target=args.target||args.$el;var $el=args.target;args.search=args.search||$el.attr("data-id");args.replace=args.replace||acf.uniqid();args.before($el);acf.doAction("before_duplicate",$el);var $el2=$el.clone();if(args.rename){acf.rename({target:$el2,search:args.search,replace:args.replace,replacer:typeof args.rename==="function"?args.rename:null})}$el2.removeClass("acf-clone");$el2.find(".ui-sortable").removeClass("ui-sortable");args.after($el,$el2);acf.doAction("after_duplicate",$el,$el2);args.append($el,$el2);acf.doAction("append",$el2);return $el2},acfeFixInputs:function($layout){$layout.find("input").each(function(){$(this).attr("value",this.value)});$layout.find("textarea").each(function(){$(this).html(this.value)});$layout.find("input:radio,input:checkbox").each(function(){if(this.checked){$(this).attr("checked","checked")}else{$(this).attr("checked",false)}});$layout.find("option").each(function(){if(this.selected){$(this).attr("selected","selected")}else{$(this).attr("selected",false)}})},acfeCleanLayouts:function($layout){$layout.find(".acf-editor-wrap").each(function(){var $input=$(this);$input.find(".wp-editor-container div").remove();$input.find(".wp-editor-container textarea").css("display","")});$layout.find(".acfe-block-editor-wrapper").each(function(){var $editor=$(this);$editor.find(".editor").remove()});$layout.find(".acf-date-picker").each(function(){var $input=$(this);$input.find("input.input").removeClass("hasDatepicker").removeAttr("id")});$layout.find(".acf-time-picker").each(function(){var $input=$(this);$input.find("input.input").removeClass("hasDatepicker").removeAttr("id")});$layout.find(".acf-date-time-picker").each(function(){var $input=$(this);$input.find("input.input").removeClass("hasDatepicker").removeAttr("id")});$layout.find(".acfe-field-code-editor").each(function(){var $input=$(this);$input.find(".CodeMirror").remove()});$layout.find(".acf-color-picker").each(function(){var $input=$(this);var $color_picker=$input.find("> input");var $color_picker_proxy=$input.find(".wp-picker-container input.wp-color-picker").clone();if($input.find(".acf-color-picker-palette").length){$input.find(".acf-color-picker-palette").append($color_picker_proxy)}else{$color_picker.after($color_picker_proxy)}$input.find(".wp-picker-container").remove()});$layout.find(".acf-field-post-object").each(function(){var $input=$(this);$input.find("> .acf-input span").remove();$input.find("> .acf-input select").removeAttr("tabindex aria-hidden").removeClass()});$layout.find(".acf-field-page-link").each(function(){var $input=$(this);$input.find("> .acf-input span").remove();$input.find("> .acf-input select").removeAttr("tabindex aria-hidden").removeClass()});$layout.find(".acf-field-select").each(function(){var $input=$(this);$input.find("> .acf-input span").remove();$input.find("> .acf-input select").removeAttr("tabindex aria-hidden").removeClass();$input.find("> .acf-input select").removeAttr("data-select2-id");$input.find("> .acf-input input[type=hidden], select").removeAttr("id")});$layout.find(".acf-field-font-awesome").each(function(){var $input=$(this);$input.find("> .acf-input span").remove();$input.find("> .acf-input select").removeAttr("tabindex aria-hidden")});$layout.find(".acf-tab-wrap").each(function(){var $wrap=$(this);var $content=$wrap.closest(".acf-fields");var tabs=[];$.each($wrap.find("li a"),function(){tabs.push($(this))});$content.find("> .acf-field-tab").each(function(){$current_tab=$(this);$.each(tabs,function(){var $this=$(this);if($this.attr("data-key")!==$current_tab.attr("data-key")){return}$current_tab.find("> .acf-input").append($this)})});$wrap.remove()});$layout.find(".acf-field-accordion").each(function(){var $input=$(this);$input.find("> .acf-accordion-title > .acf-accordion-icon").remove();$input.after('<div class="acf-field acf-field-accordion" data-type="accordion"><div class="acf-input"><div class="acf-fields" data-endpoint="1"></div></div></div>')})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var eventManager=new acf.Model({actions:{"new_field/type=flexible_content":"newField",show:"onShow",hide:"onHide",append:"onAppend"},newField:function(field){field.addEvents({"click .acfe-fc-placeholder":"onClickCollapse"});field.addEvents({"click .acfe-flexible-opened-actions > a":"onClickCollapse"});if(field.has("acfeFlexibleModalEdition")){field.removeEvents({'click [data-name="collapse-layout"]':"onClickCollapse"});if(field.has("acfeFlexiblePlaceholder")||field.has("acfeFlexiblePreview")){field.removeEvents({"click .acfe-fc-placeholder":"onClickCollapse"})}}if(field.has("acfeFlexibleLock")){field.removeEvents({mouseover:"onHover"})}field.$layouts().each(function(){field.trigger("newLayout",[$(this)])})},onShow:function($el,context){if(context==="collapse"&&$el.is(".layout")){var field=acf.getClosestField($el);field.trigger("showLayout",[$el])}},onHide:function($el,context){if(context==="collapse"&&$el.is(".layout")&&!$el.is(".acf-clone")){var field=acf.getClosestField($el);field.trigger("hideLayout",[$el])}},onAppend:function($el){if($el?.[0]?.classList?.contains("layout")){var field=acf.getClosestField($el);field.trigger("newLayout",[$el]);field.trigger("appendLayout",[$el])}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_modal_edit",type:"flexible_content",condition:function(){return this.has("acfeFlexibleModalEdition")},events:{'click [data-action="acfe-flexible-modal-edit"]':"acfeModalEdit"},setActiveLayout:function(e){},acfeModalEdit:function(e,$el){var $layout=$el.closest(".layout");var $modal=$layout.find("> .acfe-modal.-fields");var $handle=$layout.find("> .acf-fc-layout-actions-wrap > .acf-fc-layout-handle");var order=$handle.find("> .acf-fc-layout-order").outerHTML();var title=acfe.getTextNode($handle.find(".acf-fc-layout-title"));var modal=acfe.getModal($modal,{open:true,title:order+title,onOpen:this.proxy(function(){this.openLayout($layout)}),onClose:this.proxy(function(){this.closeLayout($layout)})})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_modal_select",type:"flexible_content",condition:function(){return this.has("acfeFlexibleModal")&&this.$clones().length>1},onClickAdd:function(e,$el){var flexible=this;if(!flexible.validateAdd()){return false}var $before=null;if($el.data("context")==="layout"){$before=$el.closest(".layout")}else if($el.data("context")==="top-actions"){$before=$el.closest(".acf-flexible-content").find(".values .layout").first()}acfe.newModal({destroy:true,modal:"fc_select",title:flexible.get("acfeFlexibleModalTitle",flexible.get("buttonLabel")),class:"-select acfe-modal-select-"+flexible.get("name")+" acfe-modal-select-"+flexible.get("key"),size:flexible.get("acfeFlexibleModalSize"),content:function(){var outerHtml=flexible.getPopupHTML();return $(outerHtml).children()},events:{"click .acfe-fc-categories a":"onClickCategory","click a[data-layout]":"onClickLayout"},onOpen:function(){var icon=acfe.versionCompare(acf.get("wp_version"),">=","5.5")?"dashicons-info-outline":"dashicons-info";this.$("li a span.badge").addClass("acf-js-tooltip dashicons "+icon).appendTo(this.$("li a span.badge").prev(".acfe-fc-layout-label"));this.$("li:first-of-type a").blur()},$categoriesWrap:function(){return this.$(".acfe-fc-categories")},$categories:function(){return this.$categoriesWrap().find("a")},$category:function(category){return this.$categories().filter('[data-category="'+category+'"]')},$activeCategory:function(){return this.$categories().filter(".-active")},onClickCategory:function(e,$el){e.preventDefault();this.switchCategory($el.data("category"))},switchCategory:function(category,silent=false){this.$categories().removeClass("-active");this.$category(category).addClass("-active");if(!silent){this.showActiveCategoryLayouts();this.trigger("switch_category",[category])}},hasCategories:function(){return this.$(".acfe-fc-categories").length>0},getCategories:function(){return this.$categories().map(function(){return $(this).data("category")}).get()},getActiveCategory:function(){return this.$activeCategory().data("category")},disableCategory:function(category){this.$category(category).addClass("-disabled")},disableCategories:function(){this.$categories().addClass("-disabled")},enableCategory:function(category){this.$category(category).removeClass("-disabled")},enableCategories:function(){this.$categories().removeClass("-disabled")},isCategoryDisabled:function(category){return this.$category(category).hasClass("-disabled")},$layouts:function(){return this.$("a[data-layout]")},$categoryLayouts:function(category){if(category==="acfe-all"){return this.$layouts()}return this.$layouts().filter("[data-category]").filter(function(){return $(this).data("category").includes(category)})},$activeCategoryLayouts:function(){if(!this.hasCategories()){return this.$layouts()}var activeCategory=this.getActiveCategory();return this.$categoryLayouts(activeCategory)},getLayouts:function(){return this.$layouts().map(function(){return $(this).data("layout")})},getCategoryLayouts:function(category){return this.$categoryLayouts(category).map(function(){return $(this).data("layout")}).get()},getActiveCategoryLayouts:function(){return this.$activeCategoryLayouts().map(function(){return $(this).data("layout")}).get()},hideLayouts:function(layouts=[]){layouts=acfe.getArray(layouts);if(layouts.length){this.$layouts().filter(function(){return acfe.inArray($(this).data("layout"),layouts)}).closest("li").hide();return}this.$layouts().closest("li").hide()},showLayouts:function(layouts=[]){layouts=acfe.getArray(layouts);if(layouts.length){this.$layouts().filter(function(){return acfe.inArray($(this).data("layout"),layouts)}).closest("li").show();return}this.$layouts().closest("li").show()},hideActiveCategoryLayouts:function(){this.$activeCategoryLayouts().closest("li").hide()},showActiveCategoryLayouts:function(){this.hideLayouts();this.$activeCategoryLayouts().closest("li").show()},hideCategoryLayouts:function(category){this.$categoryLayouts(category).closest("li").hide()},showCategoryLayouts:function(category){this.hideLayouts();this.$categoryLayouts(category).closest("li").show()},isLayoutHidden:function(layout){return this.$layouts().filter(function(){return $(this).data("layout")===layout}).closest("li").is(":hidden")},layoutHasCategory:function(layout,category){return this.$layouts().filter(function(){return $(this).data("layout")===layout}).data("category").includes(category)},onClickLayout:function(e,$el){e.preventDefault();this.close();flexible.add({layout:$el.data("layout"),before:$before})}})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_modal_settings",type:"flexible_content",events:{'click [data-name="acfe-settings"]':"acfeLayoutSettings"},acfeLayoutSettings:function(e,$el){var $layout=$el.closest(".layout");var $modal=$layout.find("> .acfe-modal.-settings");var $handle=$layout.find("> .acf-fc-layout-actions-wrap > .acf-fc-layout-handle");var order=$handle.find("> .acf-fc-layout-order").outerHTML();var title=acfe.getTextNode($handle.find(".acf-fc-layout-title"));var modal=acfe.getModal($modal,{open:true,title:order+title,onClose:this.proxy(function(){if(this.has("acfeFlexiblePreview")){this.closeLayout($layout)}})})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_one_click",type:"flexible_content",condition:function(){return this.$clones().length===1},onClickAdd:function(e,$el){if(!this.validateAdd()){return false}var $before=null;if($el.data("context")==="layout"){$before=$el.closest(".layout")}else if($el.data("context")==="top-actions"){$before=$el.closest(".acf-flexible-content").find(".values .layout").first()}this.add({layout:$(this.$clones()[0]).data("layout"),before:$before});var $popup=$(".acf-fc-popup");if($popup.length){$popup.hide()}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_placeholder",type:"flexible_content",condition:function(){return this.has("acfeFlexiblePlaceholder")},initialize:function(){this.getParent(Field).initialize.apply(this,arguments);this.addEvents({showLayout:"acfePlaceholderShowLayout",hideLayout:"acfePlaceholderHideLayout",newLayout:"acfePlaceholderNewLayout"})},acfePlaceholderShowLayout:function(e,$el,$layout){if(!this.has("acfeFlexibleModalEdition")){acf.hide($layout.find("> .acfe-fc-placeholder"))}},acfePlaceholderHideLayout:function(e,$el,$layout){acf.show($layout.find("> .acfe-fc-placeholder"))},acfePlaceholderNewLayout:function(e,$el,$layout){if(this.isLayoutClosed($layout)){acf.show($layout.find("> .acfe-fc-placeholder"))}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_preview",type:"flexible_content",condition:function(){return this.has("acfeFlexiblePreview")},events:{hideLayout:"acfePreviewHideLayout",appendLayout:"acfePreviewAppendLayout"},acfePreviewHideLayout:function(e,$el,$layout){this.acfeLayoutPreview($layout)},acfePreviewAppendLayout:function(e,$el,$layout){this.acfeLayoutPreview($layout)},acfeLayoutPreview:function($layout){if(!this.isLayoutClosed($layout)||$layout.find("> .acfe-fc-placeholder").hasClass("-loading")){return}var key=this.get("key");var name=this.get("name");var $el=this.$el;var layout=$layout.data("layout");var index=$layout.index();var $placeholder=$layout.find("> .acfe-fc-placeholder");$placeholder.addClass("acfe-fc-preview -loading").find("> .acfe-flexible-placeholder").prepend('<span class="spinner"></span>');$placeholder.find("> .acfe-fc-overlay").addClass("-hover");var $input=$layout.children("input");var prefix=$input.attr("name").replace("[acf_fc_layout]","");var ajaxData={action:"acfe/flexible/layout_preview",field_key:key,i:index,layout:layout,value:acf.serialize($layout,prefix)};ajaxData=acf.applyFilters("acfe/fields/flexible_content/preview_data",ajaxData,$el,$layout);ajaxData=acf.applyFilters("acfe/fields/flexible_content/preview_data/name="+name,ajaxData,$el,$layout);ajaxData=acf.applyFilters("acfe/fields/flexible_content/preview_data/key="+key,ajaxData,$el,$layout);ajaxData=acf.applyFilters("acfe/fields/flexible_content/preview_data/layout="+layout,ajaxData,$el,$layout);ajaxData=acf.applyFilters("acfe/fields/flexible_content/preview_data/name="+name+"&layout="+layout,ajaxData,$el,$layout);ajaxData=acf.applyFilters("acfe/fields/flexible_content/preview_data/key="+key+"&layout="+layout,ajaxData,$el,$layout);acf.doAction("acfe/fields/flexible_content/before_preview",$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/before_preview/name="+name,$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/before_preview/key="+key,$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/before_preview/layout="+layout,$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/before_preview/name="+name+"&layout="+layout,$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/before_preview/key="+key+"&layout="+layout,$el,$layout,ajaxData);$.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(ajaxData),dataType:"html",type:"post",context:this,success:function(response){if(response){$placeholder.find("> .acfe-flexible-placeholder").html(response)}else{$placeholder.removeClass("acfe-fc-preview")}acf.doAction("acfe/fields/flexible_content/preview",response,$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/preview/name="+name,response,$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/preview/key="+key,response,$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/preview/layout="+layout,response,$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/preview/name="+name+"&layout="+layout,response,$el,$layout,ajaxData);acf.doAction("acfe/fields/flexible_content/preview/key="+key+"&layout="+layout,response,$el,$layout,ajaxData)},complete:function(){$placeholder.find("> .acfe-fc-overlay").removeClass("-hover");$placeholder.removeClass("-loading").find("> .acfe-flexible-placeholder > .spinner").remove()}})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_state",type:"flexible_content",condition:function(){return this.has("acfeFlexibleOpen")},addCollapsed:function(){}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_title_ajax",type:"flexible_content",condition:function(){return this.has("acfeFlexibleRemoveAjaxTitle")},renderLayout:function(){}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_title_inline",type:"flexible_content",condition:function(){return this.has("acfeFlexibleTitleEdition")},events:{"click .acf-fc-layout-handle":"acfeEditLayoutTitleToggleHandle","click .acf-fc-layout-title":"acfeEditLayoutTitle","blur input.acfe-flexible-control-title":"acfeEditLayoutTitleToggle","click input.acfe-flexible-control-title":"acfeEditLayoutTitlePropagation","input [data-acfe-flexible-control-title-input]":"acfeEditLayoutTitleInput","keypress [data-acfe-flexible-control-title-input]":"acfeEditLayoutTitleInputEnter"},acfeEditLayoutTitleToggleHandle:function(e,$el){var $layout=$el.closest(".layout");if($layout.hasClass("acfe-flexible-title-edition")){$layout.find("> .acf-fc-layout-actions-wrap > .acf-fc-layout-handle > input.acfe-flexible-control-title").trigger("blur")}},acfeEditLayoutTitle:function(e,$el){e.stopPropagation();this.acfeEditLayoutTitleToggle(e,$el)},acfeEditLayoutTitleToggle:function(e,$el){var $layout=$el.closest(".layout");var $handle=$layout.find("> .acf-fc-layout-actions-wrap > .acf-fc-layout-handle");var $title=$handle.find(".acf-fc-layout-title");if($layout.hasClass("acfe-flexible-title-edition")){var $input=$handle.find("> input[data-acfe-flexible-control-title-input]");if($input.val()===""){$input.val($input.attr("placeholder")).trigger("input")}$layout.removeClass("acfe-flexible-title-edition");$input.insertAfter($layout.find("> .acf-fc-layout-actions-wrap"))}else{var $input=$layout.find("> input[data-acfe-flexible-control-title-input]");var $input=$input.appendTo($handle);$layout.addClass("acfe-flexible-title-edition");$input.focus().attr("size",$input.val().length)}},acfeEditLayoutTitlePropagation:function(e,$el){e.stopPropagation()},acfeEditLayoutTitleInput:function(e,$el){var $layout=$el.closest(".layout");var $title=$layout.find("> .acf-fc-layout-actions-wrap > .acf-fc-layout-handle .acf-fc-layout-title");var val=$el.val();$el.attr("size",val.length);$title.html(val)},acfeEditLayoutTitleInputEnter:function(e,$el){if(e.keyCode===13){e.preventDefault();$el.blur()}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Field=acfe.FieldExtender({id:"fc_toggle",type:"flexible_content",condition:function(){return this.has("acfeFlexibleToggle")},events:{'click [data-name="acfe-toggle-layout"]':"acfeToggleLayout"},acfeToggleLayout:function(e,$el){var $layout=$el.closest(".layout");var $input=$layout.find("> .acfe-flexible-layout-toggle");if($input.length){if($input.val()==="1"){$layout.removeClass("acfe-flexible-layout-hidden");$input.val("")}else{$layout.addClass("acfe-flexible-layout-hidden");$input.val("1")}}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Group=acf.Field.extend({wait:false,type:"group",events:{duplicateField:"onDuplicate"},initialize:function(){if(this.has("acfeGroupModal")){this.$inputWrap().find("> .acf-fields, > .acf-table").wrapAll('<div class="acfe-modal"><div class="acfe-modal-wrapper"><div class="acfe-modal-content"></div></div></div>');this.$inputWrap().append('<a href="#" class="acf-button button" data-modal>'+this.get("acfeGroupModalButton")+"</a>");this.initializeModal()}},initializeModal:function(){var title=this.$labelWrap().find("label").text().trim();if(this.$el.is("td")){title=this.get("acfeGroupModalButton");var $th=this.$el.closest("table").find(' > thead th[data-key="'+this.get("key")+'"]');if($th.length){title=acfe.getTextNode($th)}}if(!title.length){title=this.get("acfeGroupModalButton")}this.getModal({title:title,size:this.has("acfeGroupModalSize")?this.get("acfeGroupModalSize"):"large",footer:this.has("acfeGroupModalClose")?acf.__("Close"):false,class:"acfe-modal-edit-"+this.get("name")+" acfe-modal-edit-"+this.get("key")})},onDuplicate:function(e,$el,$duplicate){$duplicate.find(".acf-input:first > a[data-modal]").remove()}});acf.registerFieldType(Group)})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}if(typeof acf.models.IconPickerField!=="undefined"){acf.models.IconPickerField.prototype.get=function(name){return this.data[name]}}})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Radio=acf.models.RadioField;acf.models.RadioField=Radio.extend({setValue:function(val){if(!val){return this.clearValue()}var $option=this.$(':radio[value="'+val+'"]');if($option.length&&!$option.is(":checked")){$option.prop("checked",true).trigger("change");this.onClick(null,$option)}},clearValue:function(){if(this.get("allow_null")){if(this.$input().length){this.onClick(null,this.$input())}}else{this.val(this.$(":radio").first().val())}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var reCaptcha=acf.Field.extend({type:"acfe_recaptcha",wait:"load",widgetID:0,events:{invalidField:"onInvalidField"},$control:function(){return this.$(".acf-input-wrap")},$input:function(){return this.$('input[type="hidden"]')},initialize:function(){reCaptchaAPI.load(this,this.render)},render:function(){if(this.get("version")==="v2"){this.renderV2()}else if(this.get("version")==="v3"){this.renderV3()}},renderV2:function(){this.widgetID=grecaptcha.render(this.$control().find("> div")[0],{sitekey:this.get("siteKey"),theme:this.get("theme"),size:this.get("size"),callback:this.proxy(function(response){acf.val(this.$input(),response,true);this.removeError()}),"error-callback":this.proxy(function(){this.$el.addClass("acf-error");this.showNotice({text:"An error has occured",type:"error",dismiss:false})}),"expired-callback":this.proxy(function(){this.showError("reCaptcha has expired")})})},renderV3:function(){var $input=this.$input();var sitekey=this.get("siteKey");var request=function(){grecaptcha.execute(sitekey,{action:"homepage"}).then(function(response){acf.val($input,response,true)});setTimeout(request,80*1e3)};request()},reset:function(){if(this.get("version")==="v2"){grecaptcha.reset(this.widgetID);acf.val(this.$input(),"",true)}else if(this.get("version")==="v3"){this.renderV3()}},onInvalidField:function(e,$el){this.reset()}});acf.registerFieldType(reCaptcha);var reCaptchaAPI=new acf.Model({busy:false,load:function(field,callback){callback=field.proxy(callback);var url_v2="https://www.google.com/recaptcha/api.js?render=explicit";var url_v3="https://www.google.com/recaptcha/api.js?render="+field.get("siteKey");var url=field.get("version")==="v2"?url_v2:url_v3;if(typeof grecaptcha!=="undefined"||acf.isset(window,"grecaptcha")){return callback()}acf.addAction("acfe/recpatcha_loaded",callback);if(this.busy){return}this.busy=true;$.ajax({url:url,dataType:"script",cache:true,context:this,success:function(){grecaptcha.ready(this.proxy(function(){acf.doAction("acfe/recpatcha_loaded");this.busy=false}))}})}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var repeater=acf.getFieldType("repeater");var model=repeater.prototype;model.acfeOnHover=function(){var repeater=this;repeater.off("mouseover")};acf.addAction("new_field/type=repeater",function(repeater){if(repeater.has("acfeRepeaterLock")){repeater.removeEvents({mouseover:"onHover"});repeater.addEvents({mouseover:"acfeOnHover"})}if(repeater.has("acfeRepeaterRemoveActions")){repeater.$actions().remove();repeater.$el.find("thead:first > tr > th.acf-row-handle:last").remove();repeater.$rows().find("> .acf-row-handle:last").remove()}if(repeater.has("acfeRepeaterStylisedButton")){repeater.$button().removeClass("button-primary");repeater.$actions().addClass("acfe-repeater-stylised-button")}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({actions:{"new_field/type=select":"newSelect",select2_init:"init"},filters:{select2_args:"args"},newSelect:function(field){field.inherit(field.$input());if(!field.get("ui")&&field.get("allow_null")){field.$input().find("option").each(function(i,option){if(!option.value&&option.text.startsWith("- ")&&option.text.endsWith(" -")){option.text=option.text.substring(2);option.text=option.text.substring(0,option.text.length-2)}})}if(field.has("acfePrepend")||field.has("acfeAppend")){if(!field.$input().parent(".acf-input-wrap").length){field.$input().wrapAll('<div class="acf-input-wrap"></div>');if(field.get("ui")){field.$(".acf-input-wrap:first").append(field.$(".select2"))}if(field.has("acfePrepend")){field.$(".acf-input-wrap:first").before('<div class="acf-input-prepend">'+field.get("acfePrepend")+"</div>");field.$input().addClass("acf-is-prepended")}if(field.has("acfeAppend")){field.$(".acf-input-wrap:first").before('<div class="acf-input-append">'+field.get("acfeAppend")+"</div>");field.$input().addClass("acf-is-appended")}}}},init:function($select,options,data,field,instance){$select.on("select2:clear",function(e){$(this).on("select2:opening.cancelOpen",function(e){e.preventDefault();$(this).off("select2:opening.cancelOpen")})});if(!field){return}if($select.data("select2")){$select.data("select2").$dropdown.addClass("select2-dropdown-acf").addClass("select2-dropdown-acf-field-"+field.get("name")).addClass("select2-dropdown-acf-field-"+field.get("key"))}if(!field.get("multiple")&&field.get("acfeSearchPlaceholder")){$select.on("select2:open",function(e){$(".select2-search.select2-search--dropdown > .select2-search__field").attr("placeholder",field.get("acfeSearchPlaceholder"))})}},args:function(options,$select,data,field,instance){if(!field){return options}if(!field.get("acfeAllowCustom")){return options}options.tags=true;options.createTag=function(params){var term=$.trim(params.term);if(term===""){return null}var foundTerm;var ajaxResults=acf.isget(this,"_request","responseJSON","results");if(ajaxResults){loop:for(var item of ajaxResults){if(item.children){for(var child of item.children){if(typeof child.id==="string"&&child.id.toLowerCase()===term.toLowerCase()){foundTerm=true;break loop}}}}}else{for(var option of this.$element.find("option")){if(option.value.toLowerCase()===term.toLowerCase()){foundTerm=true;break}}}if(foundTerm){return null}return{id:term,text:term}};options.insertTag=function(results,tag){var found;for(var result of results){if($.trim(tag.text).toUpperCase()===$.trim(result.text).toUpperCase()){found=true;break}}if(!found){results.unshift(tag)}};return options}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var ACFE_Slug=acf.Field.extend({type:"acfe_slug",events:{"input input":"onInput","focusout input":"onFocusOut"},onInput:function(e,$el){$el.val($el.val().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/\_\_+/g,"_").replace(/^-+/,""))},onFocusOut:function(e,$el){$el.val($el.val().toLowerCase().replace(/-+$/,"").replace(/_+$/,""))}});acf.registerFieldType(ACFE_Slug)})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}new acf.Model({actions:{"prepare_field/type=tab":"prepareField"},prepareField:function(field){if(!field.has("noPreference"))return;var $tabs=field.findTabs();var tabs=acf.getInstances($tabs);var key=field.get("key");if(tabs.length){var preference=acf.getPreference("this.tabs");if(!preference)return;$.each(tabs,function(i,group){var groupIndex=group.get("index");if(group.data.key!==key)return;preference[groupIndex]=0});acf.setPreference("this.tabs",preference)}}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Textarea=acf.Field.extend({type:"textarea",events:{"keydown textarea":"onInput"},onInput:function(e,$el){if(!this.has("acfeTextareaCode"))return;if(e.keyCode!==9)return;e.preventDefault();var input=this.$el.find("textarea")[0];var s=input.selectionStart;this.$el.find("textarea").val(function(i,v){return v.substring(0,s)+"    "+v.substring(input.selectionEnd)});input.selectionEnd=s+4}});acf.registerFieldType(Textarea)})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var TrueFalse=acf.models.TrueFalseField;acf.models.TrueFalseField=TrueFalse.extend({setValue:function(val){if(!val){return this.clearValue()}this.switchOn();this.trigger("change")},clearValue:function(){this.switchOff();this.trigger("change")}})})(jQuery);(function($){if(typeof acf==="undefined"||typeof acfe==="undefined"){return}var Wysiwyg=acf.models.WysiwygField;acf.models.WysiwygField=Wysiwyg.extend({initialize:function(){if(!this.has("id")&&!this.$control().hasClass("delay")){this.initializeEditor()}}});new acf.Model({actions:{"append_field/type=wysiwyg":"appendField","show_field/type=wysiwyg":"showField","ready_field/type=wysiwyg":"showField"},appendField:function(field){this.setTimeout(function(){this.showField(field)},1)},showField:function(field){if(field.has("acfeWysiwygAutoInit")&&field.$el.is(":visible")&&!field.has("id")&&!acfe.isFilterEnabled("acfeFlexibleOpen")){this.initializeEditor(field)}},initializeEditor:function(field){if(field.$control().hasClass("delay")){field.$control().removeClass("delay");field.$control().find(".acf-editor-toolbar").remove();field.initializeEditor()}}})})(jQuery);